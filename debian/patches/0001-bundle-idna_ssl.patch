From 3de99c20ba2eea70259b34f6c4cb4b3b7704834e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Piotr=20O=C5=BCarowski?= <piotr@debian.org>
Date: Wed, 14 Feb 2018 13:55:21 +0100
Subject: bundle idna_ssl

yeah, usually we do that the other way around ;)

this is just a temporary fix and hopefully will not be released with
Debian stable
---
 aiohttp/helpers.py | 2 +-
 setup.py           | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/aiohttp/helpers.py b/aiohttp/helpers.py
index cede174..401a56f 100644
--- a/aiohttp/helpers.py
+++ b/aiohttp/helpers.py
@@ -38,7 +38,7 @@ PY_36 = sys.version_info >= (3, 6)
 PY_37 = sys.version_info >= (3, 7)
 
 if not PY_37:
-    import idna_ssl
+    from aiohttp import idna_ssl
     idna_ssl.patch_match_hostname()
 
 
diff --git a/setup.py b/setup.py
index ce23fc1..65a15c1 100644
--- a/setup.py
+++ b/setup.py
@@ -90,8 +90,7 @@ install_requires = [
     'chardet>=2.0,<4.0',
     'multidict>=4.0,<5.0',
     'async_timeout>=3.0,<4.0',
-    'yarl>=1.0,<2.0',
-    'idna-ssl>=1.0; python_version<"3.7"',
+    'yarl>=1.0,<2.0'
 ]
 
 
